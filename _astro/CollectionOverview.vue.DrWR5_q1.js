import{_}from"./ViewLayoutSection.vue.Cb_ixnp3.js";import{d as x,M as k,b as v,K as y,av as C,o,q as r,e as c,k as u,w as m,f as p,u as l,D as h,$ as V,x as w,P as z,aw as B,s as $,F as E,J as I}from"./_OpenAPI.CuaEDb0H.js";import"./jsx-runtime.DCqPeNwG.js";import"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./preload-helper.D_1diwkG.js";import"./index.jDpCNB1z.js";import"./floating-ui.dom.CMverA8Q.js";const D={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},j={class:"has-[:focus-visible]:bg-b-1 z-1 group relative flex flex-col rounded-lg"},N={class:"h-full min-h-[calc(1rem*4)]"},P={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},F=x({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(e,{emit:a}){const s=a,i=k("preview"),n=k(null);return y(i,(e=>{"edit"===e&&C((()=>{var e;null==(e=n.value)||e.focus()}))})),(e,a)=>(o(),v("div",D,[r("div",M,[a[6]||(a[6]=r("h3",{class:"font-bold"},"Description",-1)),"preview"===i.value?(o(),c(l(V),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",type:"button",size:"sm",variant:"outlined",onClick:a[0]||(a[0]=e=>i.value="edit")},{default:m((()=>[p(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),a[5]||(a[5]=r("span",null,"Edit",-1))])),_:1})):u("",!0)]),r("div",j,[r("div",N,["preview"===i.value?(o(),v(w,{key:0},[e.modelValue?(o(),v(w,{key:0},[e.modelValue?(o(),c(l(z),{key:0,withImages:"",class:"hover:border-b-3 h-full rounded border border-transparent p-1.5",value:e.modelValue,onDblclick:a[1]||(a[1]=e=>i.value="edit")},null,8,["value"])):u("",!0),a[7]||(a[7]=r("div",{class:"brightness-lifted -z-1 bg-b-1 absolute inset-0 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(o(),v("div",P,[p(l(V),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",variant:"ghost",size:"sm",onClick:a[2]||(a[2]=e=>i.value="edit")},{default:m((()=>[p(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),a[8]||(a[8]=r("span",null,"Write a description",-1))])),_:1})]))],64)):u("",!0),"edit"===i.value?(o(),c(B,{key:1,ref_key:"codeInputRef",ref:n,class:"h-full border px-0.5 py-0",modelValue:e.modelValue,environment:e.environment,envVariables:e.envVariables,workspace:e.workspace,onBlur:a[3]||(a[3]=e=>i.value="preview"),"onUpdate:modelValue":a[4]||(a[4]=e=>s("update:modelValue",e))},null,8,["modelValue","environment","envVariables","workspace"])):u("",!0)])])]))}}),U=$(F,[["__scopeId","data-v-139eac35"]]),L=x({__name:"CollectionOverview",setup(e){const{activeCollection:a,activeEnvironment:s,activeEnvVariables:i,activeWorkspace:n}=E(),{collectionMutators:r}=I(),t=e=>{a.value&&r.edit(a.value.uid,"info.description",e)};return(e,r)=>(o(),c(_,null,{default:m((()=>{var e,r;return[l(s)&&l(n)?(o(),c(U,{key:0,environment:l(s),envVariables:l(i),workspace:l(n),modelValue:(null==(r=null==(e=l(a))?void 0:e.info)?void 0:r.description)??"","onUpdate:modelValue":t},null,8,["environment","envVariables","workspace","modelValue"])):u("",!0)]})),_:1}))}});export{L as default};