import{j as e}from"./jsx-runtime.DCqPeNwG.js";import{r as s}from"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";const w=({environments:n})=>{const[t,r]=s.useState(!1),[o,i]=s.useState(null),a=s.useRef(null);s.useEffect((()=>{const e=window.location.origin,t=n.find((n=>new URL(n.url).origin===e));i(t||null)}),[n]),s.useEffect((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&r(!1)},n=e=>{"Escape"===e.key&&r(!1)};return t&&(document.addEventListener("click",e),document.addEventListener("keydown",n)),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",n)}}),[t]);return e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{type:"button",onClick:e=>{e.stopPropagation(),r(!t)},className:"flex items-center space-x-1 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 rounded-md px-3 py-2","aria-expanded":t,"aria-haspopup":"true",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsxs("span",{children:["Environments",o&&e.jsxs("span",{className:"font-normal",children:[" (",o.shortName||o.name,")"]})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:(t?"":"hidden")+" absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100 overflow-hidden z-20",children:n.map((n=>{const t=o?.name===n.name;return e.jsx("a",{href:n.url,onClick:e=>{e.preventDefault();const t=window.location.pathname+window.location.search+window.location.hash,r=new URL(n.url);r.pathname=t,window.location.href=r.toString()},className:"block px-4 py-3 text-sm transition-colors border-b border-gray-50 last:border-b-0 "+(t?"bg-purple-50 text-purple-700 hover:bg-purple-100":"text-gray-700 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium "+(t?"text-purple-700":""),children:n.name}),n.description&&e.jsx("div",{className:"text-xs font-light mt-1 "+(t?"text-purple-600":"text-gray-500"),children:n.description})]}),t&&e.jsx("svg",{className:"w-4 h-4 text-purple-600 flex-shrink-0 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},n.name)}))})]})};export{w as EnvironmentDropdown};