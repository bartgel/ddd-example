import{d as N,b as c,o as r,q as l,k as M,B as V,t as B,u as a,a4 as T,a6 as j,F,J as L,ax as W,L as z,f as i,x as f,E as C,D as $,w as U,$ as E,T as O,ay as _,s as R}from"./_OpenAPI.CuaEDb0H.js";import{w as S}from"./DeleteSidebarListElement.vue.zwe9Rtgr.js";import"./jsx-runtime.DCqPeNwG.js";import"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./preload-helper.D_1diwkG.js";import"./index.jDpCNB1z.js";import"./floating-ui.dom.CMverA8Q.js";const A=["aria-checked","aria-disabled"],I={key:0,class:"sr-only"},P=N({__name:"ScalarToggle",props:{modelValue:{type:Boolean},disabled:{type:Boolean},label:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,s=t;function n(){o.disabled||s("update:modelValue",!o.modelValue)}const i=j({base:"relative h-3.5 w-6 cursor-pointer rounded-full bg-b-3 transition-colors duration-300",variants:{checked:{true:"bg-c-accent"},disabled:{true:"cursor-not-allowed opacity-40"}}});return(e,t)=>(r(),c("button",{"aria-checked":e.modelValue,"aria-disabled":e.disabled,class:V(a(T)(a(i)({checked:e.modelValue,disabled:e.disabled}))),role:"switch",type:"button",onClick:n},[l("div",{class:V(["absolute left-px top-px flex h-3 w-3 items-center justify-center rounded-full bg-white text-c-accent transition-transform duration-300",{"translate-x-2.5":e.modelValue}])},null,2),e.label?(r(),c("span",I,B(e.label),1)):M("",!0)],10,A))}}),q={class:"flex h-full w-full flex-col gap-12 px-1.5 pt-8"},Z={class:"flex flex-col gap-2"},G={class:"bg-b-2 rounded-lg border text-sm"},J={class:"bg-b-1 -m-1/2 flex items-center justify-between gap-4 rounded-t-lg border p-3"},H={class:"text-c-1 flex items-center overflow-x-auto whitespace-nowrap py-1.5"},K={class:"flex items-center"},Q=["href"],X={class:"flex flex-col gap-4"},Y={class:"flex items-center justify-between rounded-lg border p-3 text-sm"},ee=N({__name:"CollectionSettings",setup(e){const{activeCollection:t,activeWorkspace:o,activeWorkspaceCollections:s}=F(),{collectionMutators:n}=L(),{replace:d}=W(),u=z();function p(){var e,l;t.value&&null!=(e=t.value)&&e.documentUrl&&n.edit(t.value.uid,"watchMode",!(null!=(l=t.value)&&l.watchMode))}function m(){if(!t.value||!o.value)return;n.delete(t.value,o.value);const e=s.value[0];e&&d({name:"collection",params:{[_.Workspace]:o.value.uid,[_.Collection]:e.uid}}),u.hide()}return(e,o)=>{var s,n,d,v,b;return r(),c(f,null,[l("div",q,[l("div",Z,[o[5]||(o[5]=l("div",{class:"flex h-8 items-center"},[l("h3",{class:"font-bold"},"Features")],-1)),l("div",G,[l("div",J,[o[2]||(o[2]=l("div",null,[l("h4",null,"Watch Mode"),l("p",{class:"text-c-2 mt-1"}," When enabled, the OpenAPI document will be polled for changes. The collection will be updated automatically. ")],-1)),i(a(P),{class:"w-4",disabled:!(null!=(s=a(t))&&s.documentUrl),modelValue:(null==(n=a(t))?void 0:n.watchMode)??!1,"onUpdate:modelValue":p},null,8,["disabled","modelValue"])]),l("div",H,[l("div",K,[null!=(d=a(t))&&d.documentUrl?(r(),c(f,{key:0},[o[3]||(o[3]=l("span",{class:"bg-b-2 sticky left-0 pl-3 pr-2"},"Source",-1)),l("a",{class:"text-c-2 group rounded pr-3 no-underline hover:underline",href:a(t).documentUrl,target:"_blank"},[C(B(a(t).documentUrl)+" ",1),i(a($),{class:"ml-1 hidden w-2.5 group-hover:inline",icon:"ExternalLink"})],8,Q)],64)):(r(),c(f,{key:1},[i(a($),{class:"text-c-2 ml-3 mr-2 w-4",icon:"NotAllowed",size:"sm"}),o[4]||(o[4]=l("span",{class:"text-c-2 pr-3"}," No URL configured. Try importing an OpenAPI document from an URL. ",-1))],64))])])])]),l("div",X,[o[8]||(o[8]=l("h3",{class:"font-bold"},"Danger Zone",-1)),l("div",Y,[o[7]||(o[7]=l("div",null,[l("h4",null,"Delete Collection"),l("p",{class:"text-c-2 mt-1"}," Be careful, my friend. Once deleted, there is no way to recover the collection. ")],-1)),i(a(E),{class:"custom-scroll h-8 gap-1.5 whitespace-nowrap px-2.5 font-medium shadow-none focus:outline-none",variant:"danger",onClick:o[0]||(o[0]=e=>a(u).show())},{default:U((()=>o[6]||(o[6]=[C(" Delete Collection ")]))),_:1})])])]),i(a(O),{size:"xxs",state:a(u),title:`Delete ${null==(b=null==(v=a(t))?void 0:v.info)?void 0:b.title}`},{default:U((()=>{var e,l;return[i(S,{variableName:(null==(l=null==(e=a(t))?void 0:e.info)?void 0:l.title)??"",warningMessage:"This action cannot be undone.",onClose:o[1]||(o[1]=e=>a(u).hide()),onDelete:m},null,8,["variableName"])]})),_:1},8,["state","title"])],64)}}}),ue=R(ee,[["__scopeId","data-v-ea98df67"]]);export{ue as default};